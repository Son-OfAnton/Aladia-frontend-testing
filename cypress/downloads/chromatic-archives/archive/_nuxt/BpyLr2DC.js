import{d as k,u as v,J as h,r as w,K as f,A as s,t as u,x as c,z as o,B as r,v as b,L as z,M as B,y as O,N as V,O as $,P as C}from"./BIOY7cni.js";import{_ as I,a as N,b as d}from"./CVV0efQT.js";import{_ as P}from"./CaSnCCCZ.js";import{_ as p}from"./tXyafsR7.js";import"./CSmM_apQ.js";const T={class:"flex flex-col justify-center items-center gap-y-4 bg-black text-white rounded-lg shadow-lg p-8 max-h-screen max-w-md","data-test":"otp-form-container"},j={class:"flex flex-col gap-y-2 text-center","data-test":"otp-info"},K={class:"flex gap-x-6","data-test":"otp-inputs"},L="123456",S=k({__name:"index",setup(A){const g=v(),n=h(Array(6).fill("")),i=w("");function y(e){n[e].length===1&&e<5&&m(e+1)}function _(e,t){t.key==="Backspace"&&n[e]===""&&e>0&&m(e-1)}function m(e){C(()=>{const t=document.getElementById(`otp${e+1}`);t&&t.focus()})}function x(){if(!n.every(t=>t!=="")){i.value="Please fill all 6 digits of the OTP.";return}if(n.join("")!==L){i.value="Invalid OTP. Please try again.";return}g.push("/auth/signupSuccess")}return(e,t)=>(u(),f(I,{class:"flex flex-col items-center justify-center min-h-screen min-w-full bg-gray-900","data-test":"container"},{default:s(()=>[c("div",T,[o(N,{size:"sm",src:"/img/aladiaLogo.png",alt:"Logo","data-test":"logo"}),c("div",j,[o(d,{size:"md",weight:"semibold","data-test":"user-name"},{default:s(()=>t[0]||(t[0]=[r("John Doe")])),_:1}),o(d,{class:"text-gray-300",size:"sm",weight:"light","data-test":"thank-you-message"},{default:s(()=>t[1]||(t[1]=[r("Thank you for joining Aladia")])),_:1}),o(d,{class:"text-gray-300",size:"sm","data-test":"otp-instructions"},{default:s(()=>t[2]||(t[2]=[r(" Please enter below the 6-digit code we sent you through your registration email ")])),_:1})]),c("div",K,[(u(),b(B,null,z(6,a=>o(P,{key:a,modelValue:n[a-1],"onUpdate:modelValue":l=>n[a-1]=l,ref_for:!0,ref:"otpInput",id:"otp"+a,size:"lg",class:"text-center w-20",maxlength:"1",onInput:l=>y(a-1),onKeydown:$(l=>_(a-1,l),["backspace"]),"data-test":"otp-"+a},null,8,["modelValue","onUpdate:modelValue","id","onInput","onKeydown","data-test"])),64))]),i.value?(u(),f(d,{key:0,class:"text-red-500","data-test":"error-message"},{default:s(()=>[r(O(i.value),1)]),_:1})):V("",!0),o(p,{class:"text-gray-300 no-underline text-sm",variant:"link","data-test":"resend-link"},{default:s(()=>t[3]||(t[3]=[r("You didn't receive any email?")])),_:1}),o(p,{class:"bg-gradient-to-r from-zinc-500 via-stone-600 to-zinc-900",onClick:x,"data-test":"submit-button"},{default:s(()=>t[4]||(t[4]=[r("Enter")])),_:1})])]),_:1}))}});export{S as default};
